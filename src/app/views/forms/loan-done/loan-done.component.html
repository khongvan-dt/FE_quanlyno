<c-row>
  <c-col xs="12">
    <c-card class="mb-4">
      <c-card-header ngPreserveWhitespaces>
        <strong>Trả nợ xong (Loan Done)</strong>
      </c-card-header>
      <c-card-body>
        <c-row>
          <form (ngSubmit)="addLoanDone()" [formGroup]="loanDoneForm">
            <div class="mb-3">
              <label class="form-label" for="borrower-select">Người vay</label>
              <select
                class="form-select"
                id="borrower-select"
                [(ngModel)]="newLoanDone.borrowerInformationId"
                formControlName="borrowerInformationId"
                (change)="onBorrowerChange($event)"
              >
                <option value="" selected="selected">Chọn tên người vay</option>
                <option
                  *ngFor="let borrower of BorrowerInformationList"
                  [value]="borrower.id"
                >
                  {{ borrower.fullName }}
                </option>
              </select>
            </div>

            <div class="mb-3">
              <label class="form-label" for="loan-info-select"
                >Thông tin khoản vay</label
              >
              <select
                class="form-select"
                id="loan-info-select"
                [(ngModel)]="newLoanDone.loanInformationId"
                name="loanInformationId"
                formControlName="loanInformationId"
                (change)="onLoanInfoChange($event)"
              >
                <option value="" selected="selected">
                  Chọn thông tin khoản vay
                </option>
                <option
                  *ngFor="let loanInformation of filteredLoanInformationList"
                  [value]="loanInformation.id"
                >
                  {{ loanInformation.loanInformationName }}
                </option>
              </select>
            </div>

            <!-- Hiển thị khi selectedLoanAmount là 1 -->
            <div class="mb-3" *ngIf="selectedLoanAmount !== 0">
              <label class="form-label" for="basic-form-name">
                Số tiền lãi đã trả (sẽ hiển thị khi đây là khoản trả lãi định
                kỳ)
              </label>
              <input
                class="form-control"
                id="basic-form-name"
                type="number"
                [value]="selectedLoanAmount"
                placeholder="Số tiền đã trả"
                readonly
              />
            </div>

            <!-- Hiển thị khi selectedLoanAmount là 0
            <div class="mb-3" *ngIf="selectedLoanAmount !== 1">
              <label class="form-label" for="basic-form-name">
                Số tiền đã trả góp (sẽ hiển thị khi đây là khoản vay trả góp)
              </label>
              <input
                class="form-control"
                id="basic-form-name"
                type="number"
                placeholder="Số tiền đã trả"
              />
            </div> -->
            <div class="mb-3">
              <label class="form-label" for="basic-form-name"> Số tiền </label>
              <input
                [(ngModel)]="newLoanDone.amountPaid"
                formControlName="amountPaid"
                class="form-control"
                id="basic-form-name"
                type="number"
                name="amountPaid"
                placeholder="Số tiền đã trả"
              />
            </div>
            <div class="mb-3">
              <label class="form-label" for="basic-form-name">Ngày trả</label>
              <input
                class="form-control"
                id="basic-form-name"
                type="date"
                name="paymentDate"
                formControlName="paymentDate"
                [(ngModel)]="newLoanDone.paymentDate"
              />
            </div>
            <div class="mb-3">
              <label class="form-label" for="basic-form-textarea">Note</label>
              <textarea
                class="form-control"
                id="basic-form-textarea"
                rows="2"
                placeholder="Note"
                [(ngModel)]="newLoanDone.note"
                                formControlName="note"

              ></textarea>
            </div>

            <button class="btn btn-primary" type="submit">Submit</button>
          </form>
        </c-row>
      </c-card-body>
    </c-card>
  </c-col>
</c-row>
